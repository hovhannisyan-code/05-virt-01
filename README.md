
# Домашнее задание к занятию 1.  «Введение в виртуализацию»

#### Это задание для самостоятельной отработки навыков и не предполагает обратной связи от преподавателя. Его выполнение не влияет на завершение модуля. Но мы рекомендуем его выполнить, чтобы закрепить полученные знания.  Все вопросы, возникающие в процессе выполнения заданий, пишите в учебный чат или в раздел "Вопросы по заданиям" в личном кабинете.

### Цели задания
1. Научиться запускать виртуальную машину в Yandex Cloud с минимальным расходом ресурсов.
2. Попрактиковаться в выборе платформы  и системы управления виртуализации для решения требуемых задач.

### Инструкция к выполению

1. Для выполнения задачи 1 ознакомьтесь с [инструкцией](https://github.com/netology-code/devops-materials/blob/master/cloudwork.MD) по экономии облачных ресурсов и затем выполните задачу 1 по шагам.
2. Своё решение к задачам 2,3,4 загрузите  в ваш ЛК.
   
## Задача 1

Ознакомьтесь с [инструкцией ](https://github.com/netology-code/devops-materials/blob/master/cloudwork.MD) по экономии облачных ресурсов.


1. Создайте через web-интерфейс Yandex Cloud - VPC и виртуальную машину из инструкции конфигурации "эконом-ВМ" с публичным ip-адресом. В пункте "Выбор образа/загрузочного диска" выберите вкладку "Cloud Marketplace" , щелкните "Посмотреть больше", найдите образ "Yandex Cloud Toolbox".
2. Убедитесь, что вы можете подключиться к консоли ВМ через ssh, используя публичный ip-адрес. Убедитесь, что на ВМ установлен Docker с помощью команды ```docker --version```(команду выполните от имени root пользователя) !
3. Узнайте в инструкции Яндекс, какие еще инструменты предустановлены в данном образе.
4. Оставьте ВМ работать, пока она не выключится самостоятельно! Опция "прерываемая" выключит ее не позже чем через 24 часа. 
5. Для наглядности подождите еще 1 сутки.
6. Перейдите по [ссылке ](https://console.cloud.yandex.ru/billing?section=accounts). Выберите свой платежный аккаунт. Перейдите на вкладку детализация (фильтр "По продуктам") и оцените график потребления финансов.
7. Удалите ВМ или пользуйтесь ею при выполнении последующих домашних заданий курса обучения.

---


## Задача 2

Выберите один из вариантов платформы в зависимости от задачи. Здесь нет однозначно верного ответа так как все зависит от конкретных условий: финансирование, компетенции специалистов, удобство использования, надежность, требования ИБ и законодательства, фазы луны.

Тип платформы:

- физические сервера;
- паравиртуализация;
- виртуализация уровня ОС;

Задачи:

- высоконагруженная база данных MySql, критичная к отказу;
- различные web-приложения;
- Windows-системы для использования бухгалтерским отделом;
- системы, выполняющие высокопроизводительные расчёты на GPU.

Объясните критерии выбора платформы в каждом случае.

## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based-инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
2. Требуется наиболее производительное бесплатное open source-решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows-инфраструктуры.
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

## Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, создавали бы вы гетерогенную среду или нет?

### Правила приема

Домашнее задание выполните в файле readme.md в GitHub-репозитории. В личном кабинете отправьте на проверку ссылку на .md-файл в вашем репозитории.

# Ответы

## Задача 1 — Работа с Yandex Cloud
Сделано


## Задача 2 — Выбор платформы

| Задача                                                  | Выбор платформы                                                              | Обоснование                                                                                                                                                     |
| ------------------------------------------------------- | ---------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Высоконагруженная база данных MySQL, критичная к отказу | **Физические сервера**                                                       | Высокая производительность, отказоустойчивость, минимизация накладных расходов гипервизора. Простота обеспечения SLA и работы с аппаратными RAID-контроллерами. |
| Различные web-приложения                                | **Паравиртуализация** (KVM, VMware)                                          | Гибкость, масштабируемость, простота управления, изоляция приложений. Возможность быстрого снапшотирования и клонирования.                                      |
| Windows-системы для бухгалтерии                         | **Паравиртуализация**                                                        | Windows не поддерживает контейнеризацию в полном объеме, виртуальные машины дают изоляцию, удобное управление лицензиями и сетевыми политиками.                 |
| Высокопроизводительные вычисления на GPU                | **Физические сервера** или **виртуализация уровня ОС** (в некоторых случаях) | Прямая работа с GPU лучше реализуется без гипервизоров. Контейнеризация возможна с NVIDIA Docker, но требует поддержки на уровне хоста.                         |

## Задача 3 — Выбор системы управления виртуализацией
| Сценарий                                                                | Рекомендуемая система               | Обоснование                                                                                                                                           |
| ----------------------------------------------------------------------- | ----------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1. 100 ВМ, Windows-инфраструктура, балансировка и резервное копирование | **VMware vSphere**                  | Лидер корпоративного сегмента, поддержка Windows, встроенные инструменты HA, vMotion, backup, software load balancing. Интеграция с Active Directory. |
| 2. Open Source, 20–30 серверов                                          | **Proxmox VE** или **oVirt**        | Бесплатные, активное сообщество, удобный интерфейс, поддержка кластеризации и live migration. Proxmox проще в настройке, oVirt масштабируемее.        |
| 3. Windows-инфраструктура, бесплатно                                    | **Microsoft Hyper-V Server (Core)** | Бесплатен, отлично интегрируется с Windows, Group Policy, AD. Низкие накладные расходы, совместимость с Windows VM.                                   |
| 4. Тестирование ПО на разных Linux                                      | **VirtualBox** или **Proxmox VE**   | Простота, удобство запуска разных дистрибутивов, GUI. VirtualBox хорош для настольной отладки, Proxmox — для серверной.                               |

## Задача 4 — Проблемы гетерогенной среды виртуализации

### Возможные проблемы:

* Разные интерфейсы управления (нужно обучать персонал нескольким системам)
* Сложности централизованного мониторинга и резервного копирования
* Разные форматы шаблонов/образов виртуальных машин
* Рост сложности миграции между хостами
* Разная поддержка гипервизоров для различных ОС (например, Windows работает лучше на Hyper-V)

### Минимизация рисков:

* Использование единой CMDB и системы мониторинга (например, Zabbix, Prometheus)
* Автоматизация через Ansible/Terraform с абстрагированием от конкретного гипервизора
* Централизованные политики доступа через IAM/AD
* Документация и стандарты для шаблонов ВМ
